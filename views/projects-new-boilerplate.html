<!-- Steps -->
<div class='ui fluid steps'>
	<a class='completed step' ui-sref='projects.new.project'>
		<i class='code icon'></i>
		<div class='content'>
			<div class='title'>Project</div>
			<div class='description'>Define the project</div>
		</div>
	</a>
	<a class='completed step' ui-sref='projects.new.git'>
		<i class='git square icon'></i>
		<div class='content'>
			<div class='title'>Git</div>
			<div class='description'>Set Git options</div>
		</div>
	</a>
	<a class='active step' ui-sref='projects.new.boilerplate'>
		<i class='file icon'></i>
		<div class='content'>
			<div class='title'>Boilerplate</div>
			<div class='description'>Setup the minimal files</div>
		</div>
	</a>
</div>

<!-- Form -->
<form class='ui piled segment form' ng-class="{'loading': loading}">
	<div class='ui visible error message' ng-show='error'>
		<div class='header'>Sorry, this project could not be created.</div>
		<p>The following error was encountered: <strong>{{ error.message }}</strong></p>
	</div>

	<div class='ui segments'>
		<div class='ui segment field'>
			<label>Boilerplate</label>
			<select class="ui selection dropdown" name='boilerplate' ng-options='b.name for b in boilerplates' ng-model='project.boilerplate'></select>
		</div>
		<div class='ui secondary segment'>
			<p>Preview:</p>
			<tree-view root='project.boilerplate.files'></tree-view>
		</div>
	</div>

	<div class='ui divider'></div>

	<div class='ui center aligned grid'>
		<div class='column'>
			<button class='ui yellow labeled icon button' type='submit' ng-click='createProject()'>
				<i class='plus icon'></i>Create project
			</button>
		</div>
	</div>
</form>

<script type="text/javascript">
	$('.ui.dropdown').dropdown();

	/* Form validation */
	$('.ui.form').form({
		fields: {},
		onFailure: () => { console.log('failure'); }
	});
</script>